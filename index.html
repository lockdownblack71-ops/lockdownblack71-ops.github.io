<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Eternal Tribe // Access Portal</title>

  <!-- SEO / Social -->
  <meta name="description" content="Unlock the Flame. Walk as a Warrior. Enter with a code or pick a tier. Fast, simple, verified." />
  <meta property="og:title" content="The Eternal Tribe ‚Äî Access Portal" />
  <meta property="og:description" content="Unlock the Flame. Walk as a Warrior. Enter with a code or pick a tier." />
  <meta property="og:image" content="https://lockdownblack71-ops.github.io/assets/hero.jpg" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="theme-color" content="#00E8C6" />

  <style>
    :root{
      /* pulled from your banner: teal + aqua + ember */
      --bg:#0b0e11; --panel:#0f141a; --panel2:#0b1217;
      --text:#eafff6; --muted:#94e7d8; --dim:#89a6a1;
      --brand:#00e8c6; --brand2:#44e1ff; --ember:#ff9b3d;
      --warn:#ffd166; --bad:#ff6b6b; --border:#162029;
      --radius:16px; --rsm:12px; --shadow:0 12px 40px rgba(0,0,0,.45);
      --glow:0 0 28px rgba(0,232,198,.28);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      color:var(--text);
      background:
        radial-gradient(1200px 520px at 50% -10%, rgba(0,232,198,.07), transparent 55%),
        radial-gradient(700px 280px at 80% 0%, rgba(68,225,255,.06), transparent 50%),
        var(--bg);
    }

    /* HERO */
    .hero{
      position:relative; isolation:isolate; overflow:hidden;
      display:grid; place-items:center; text-align:center;
      min-height: 48vh; max-height: 62vh;
      border-bottom:1px solid #0f1a20;
      background:#04090c;
    }
    .hero-img{
      position:absolute; inset:0; z-index:-1;
      background:url("./assets/hero.jpg") center/cover no-repeat;
      filter:contrast(1.02) saturate(1.06) brightness(.9);
      opacity:.9;
    }
    .hero-overlay{
      position:absolute; inset:0; z-index:-1;
      background:radial-gradient(50% 60% at 50% 30%, rgba(0,232,198,.08), transparent 60%),
                 linear-gradient(180deg, rgba(0,0,0,.2), rgba(0,0,0,.55));
    }
    .hero h1{
      margin:0 12px 8px;
      font-size: clamp(28px, 5vw, 40px);
      letter-spacing:.8px;
      text-shadow: 0 0 30px rgba(0,232,198,.35);
    }
    .tagline{
      margin:0 12px; color:#cff8f2; opacity:.95;
      font-size: clamp(14px, 2.6vw, 18px);
    }

    .wrap{max-width:1100px; margin:0 auto; padding:26px 20px 60px}
    .grid{display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
    .card{
      background:linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid var(--border); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow);
    }
    .card h3{margin:6px 0 6px; font-size:18px}
    .pill{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);
      border-radius:999px;padding:4px 10px;color:var(--muted);font-size:12px;background:#0b1217}
    .row{display:grid;grid-template-columns:1fr auto;gap:10px;margin-top:10px}
    input{
      width:100%;padding:12px 14px;border-radius:var(--rsm);
      border:1px solid var(--border);background:#0a1513;color:var(--text);
    }
    input::placeholder{color:#97cbb9}
    button,.btn{
      appearance:none;border:0;cursor:pointer;text-decoration:none;
      display:inline-flex;align-items:center;justify-content:center;
      padding:12px 14px;border-radius:var(--rsm);font-weight:700;
      background:linear-gradient(180deg, var(--brand), #0fd9a0); color:#053; box-shadow:var(--glow);
    }
    .btn.secondary{background:linear-gradient(180deg, var(--brand2), #20c9ff); color:#012}
    .btn.ghost{background:#0d151a;color:var(--muted);border:1px solid var(--border);box-shadow:none}
    .stack > .btn{margin-right:8px;margin-top:8px}

    .msg{font-size:14px;min-height:22px;margin-top:10px}
    .ok{color:var(--brand)}
    .bad{color:var(--bad)}
    .hint{color:var(--dim);font-size:12px;margin-top:8px}
    .section-title{margin:28px 2px 10px;color:var(--muted);font-size:15px;opacity:.9}
    footer{margin-top:34px;text-align:center;color:var(--dim);font-size:12px}
    a:focus,button:focus,input:focus{outline:2px solid var(--brand); outline-offset:2px}

    /* small screen breathing room */
    @media (max-width:480px){
      .wrap{padding-left:14px; padding-right:14px}
    }
  </style>
</head>
<body>
  <!-- HERO -->
  <section class="hero">
    <div class="hero-img" aria-hidden="true"></div>
    <div class="hero-overlay" aria-hidden="true"></div>
    <div>
      <h1>THE ETERNAL TRIBE</h1>
      <p class="tagline">Unlock the Flame. Walk as a Warrior.</p>
    </div>
  </section>

  <div class="wrap">
    <!-- STEPS -->
    <div class="grid" style="margin-top:18px">
      <!-- Step 1 -->
      <div class="card">
        <span class="pill">Step 1 ‚Ä¢ Support or Use a Code</span>
        <h3>Pick a Tier</h3>
        <p>Support on Ko-fi or PayPal & receive a code. Already got a code? Use Step 2 to unlock.</p>
        <div class="stack">
          <a class="btn" href="http://ko-fi.com/theeternaltribe/tiers" target="_blank" rel="noopener">üî• Flame ‚Äî Ko-fi</a>
          <a class="btn secondary" href="https://www.paypal.com/paypalme/theeternaltribe" target="_blank" rel="noopener">üî• Flame ‚Äî PayPal</a>
        </div>
        <div class="stack">
          <a class="btn" href="http://ko-fi.com/theeternaltribe/tiers" target="_blank" rel="noopener">‚öîÔ∏è Warrior ‚Äî Ko-fi</a>
          <a class="btn secondary" href="https://www.paypal.com/paypalme/theeternaltribe" target="_blank" rel="noopener">‚öîÔ∏è Warrior ‚Äî PayPal</a>
        </div>
        <p class="hint">Ko-fi emails codes automatically. PayPal supporters get a DM/email with the code.</p>
      </div>

      <!-- Step 2 -->
      <div class="card">
        <span class="pill">Step 2 ‚Ä¢ Unlock</span>
        <h3>Unlock with your Code</h3>
        <div class="row">
          <input id="codeInput" placeholder="Enter code (e.g. 6B2EJDKJM3)" />
          <button id="unlockBtn">Unlock</button>
        </div>
        <div id="unlockMsg" class="msg"></div>
        <div class="stack" style="margin-top:6px">
          <a class="btn" id="welcomeLink" target="_blank" rel="noopener">üö™ Go to #welcome</a>
          <a class="btn ghost" id="inviteLink" target="_blank" rel="noopener">üí¨ Join Discord</a>
        </div>
        <p class="hint">In Discord, type <code>!verify YOURCODE</code> in #welcome to claim your role.</p>
      </div>

      <!-- Step 3 -->
      <div class="card">
        <span class="pill">Step 3 ‚Ä¢ New to Discord?</span>
        <h3>Download / Sign up</h3>
        <div class="stack">
          <a class="btn" href="https://discord.com/download" target="_blank" rel="noopener">‚¨áÔ∏è Download Discord</a>
          <a class="btn ghost" href="https://discord.com/register" target="_blank" rel="noopener">üÜï Create Account</a>
        </div>
      </div>
    </div>

    <!-- TIERS -->
    <div class="section-title">Tiers</div>
    <div class="grid">
      <div class="card">
        <h3>üî• Flame</h3>
        <p>Early access, member badge, basic drops.</p>
        <div class="stack">
          <a class="btn" href="http://ko-fi.com/theeternaltribe/tiers" target="_blank" rel="noopener">Ko-fi: Flame</a>
          <a class="btn secondary" href="https://www.paypal.com/paypalme/theeternaltribe" target="_blank" rel="noopener">PayPal: Flame</a>
        </div>
      </div>
      <div class="card">
        <h3>‚öîÔ∏è Warrior</h3>
        <p>VIP queue, priority drops, extras.</p>
        <div class="stack">
          <a class="btn" href="http://ko-fi.com/theeternaltribe/tiers" target="_blank" rel="noopener">Ko-fi: Warrior</a>
          <a class="btn secondary" href="https://www.paypal.com/paypalme/theeternaltribe" target="_blank" rel="noopener">PayPal: Warrior</a>
        </div>
      </div>
    </div>

    <!-- EXPLORE -->
    <div class="section-title">Explore</div>
    <div class="card" style="max-width:820px">
      <h3>üåê Public Page</h3>
      <p>Want to look around first? Visit our Ko-fi page:</p>
      <a class="btn ghost" href="https://ko-fi.com/theeternaltribe" target="_blank" rel="noopener">Visit Ko-fi Page</a>
    </div>

    <footer>build 922 ‚Ä¢ ¬© Eternal Tribe</footer>
  </div>

  <script>
    // live API + Discord links
    const API_URL = "https://theeternaltribe.theeternaltribe.repl.co/api/checkcode";
    const DISCORD_INVITE = "https://discord.gg/92sdve7x";
    const WELCOME_CHANNEL_LINK = "https://discord.com/channels/1416479764990136512/1416479765556232254";

    // set buttons
    document.getElementById("welcomeLink").href = WELCOME_CHANNEL_LINK;
    document.getElementById("inviteLink").href = DISCORD_INVITE;

    async function unlock(){
      const input = document.getElementById("codeInput");
      const msg = document.getElementById("unlockMsg");
      const code = (input.value || "").trim();

      msg.className = "msg";
      if(!code){ msg.classList.add("bad"); msg.textContent = "‚ö†Ô∏è Enter a code."; return; }
      msg.textContent = "Checking‚Ä¶";

      const showOK = (tier) => {
        msg.classList.add("ok");
        msg.innerHTML = `‚úÖ Valid code${tier ? " <b>"+tier+"</b>" : ""}.<br>
        Next: click <b>Go to #welcome</b> and run <code>!verify ${code.toUpperCase()}</code>.`;
      };
      const showBad = t => { msg.classList.add("bad"); msg.textContent = t; };

      try {
        // POST first
        let r = await fetch(API_URL, {
          method:"POST",
          headers:{ "Content-Type":"application/json" },
          body: JSON.stringify({ code })
        });
        if(!r.ok) throw new Error("POST failed");
        let data = await r.json();

        if(!("ok" in data)){ // fallback GET if unexpected body
          const g = await fetch(`${API_URL}?code=${encodeURIComponent(code)}`);
          data = await g.json();
        }

        if(data.ok) showOK(data.tier);
        else if(data.error==="used_code") showBad("‚ö†Ô∏è That code was already used.");
        else if(data.error==="invalid_code") showBad("‚ùå Invalid code.");
        else showBad("‚ö†Ô∏è Error.");
      }catch{
        // GET fallback for CORS/preflight issues
        try{
          const g = await fetch(`${API_URL}?code=${encodeURIComponent(code)}`);
          const data = await g.json();
          if(data.ok) showOK(data.tier);
          else if(data.error==="used_code") showBad("‚ö†Ô∏è That code was already used.");
          else showBad("‚ùå Invalid code.");
        }catch{
          showBad("‚ö†Ô∏è Network/CORS error. You can still join and verify inside Discord.");
        }
      }
    }

    document.getElementById("unlockBtn").addEventListener("click", unlock);
    document.getElementById("codeInput").addEventListener("keydown", e => {
      if(e.key === "Enter") unlock();
    });
  </script>
</body>
</html>
